2025-10-10 09:33:43 - [0;35mğŸ”’ INICIANDO AUDITORÃA DE SEGURIDAD - KRONOS SERVER[0m
2025-10-10 09:33:43 - Report file: /home/mloco/kronos-server/security-audit-20251010-093343.txt
2025-10-10 09:33:43 - Base directory: /home/mloco/kronos-server
2025-10-10 09:33:43 - Timestamp: vie 10 oct 2025 09:33:43 CEST
2025-10-10 09:33:43 - ================================================================================

2025-10-10 09:33:43 - [0;34mğŸ” Verificando privilegios de contenedores...[0m
[0;31mğŸŸ  ALTA[0m
TÃ­tulo: Capabilities peligrosas detectadas
DescripciÃ³n: Contenedores con capabilities que pueden comprometer la seguridad del sistema
Afectado: pihole: CAP_NET_ADMIN, CAP_SYS_NICE, CAP_SYS_TIME
RecomendaciÃ³n: Revisar y remover capabilities innecesarias como NET_ADMIN, SYS_ADMIN, SYS_PTRACE
----------------------------------------
2025-10-10 09:33:44 - [0;34mğŸ” Verificando configuraciÃ³n de red...[0m
[1;33mğŸŸ¡ MEDIA[0m
TÃ­tulo: Puertos expuestos pÃºblicamente
DescripciÃ³n: Se encontraron 5 contenedores con puertos expuestos a todas las interfaces (0.0.0.0)
Afectado: Verificar: docker ps --format 'table {{.Names}}\t{{.Ports}}'
RecomendaciÃ³n: Configurar bind mounts especÃ­ficos o usar redes internas cuando sea posible
----------------------------------------
2025-10-10 09:33:44 - [0;34mğŸ” Verificando archivos sensibles...[0m
[0;31mğŸŸ  ALTA[0m
TÃ­tulo: Archivos de entorno encontrados
DescripciÃ³n: Se encontraron archivos .env que pueden contener credenciales sensibles
Afectado: /home/mloco/kronos-server/plex/.env
/home/mloco/kronos-server/flexget/.env
/home/mloco/kronos-server/portainer/.env
/home/mloco/kronos-server/transmission/.env
/home/mloco/kronos-server/pihole/.env
/home/mloco/kronos-server/postie/.env
/home/mloco/kronos-server/AlugueV3/.env.example
/home/mloco/kronos-server/AlugueV3/backend/.env
/home/mloco/kronos-server/.env
/home/mloco/kronos-server/immich-app/.env
/home/mloco/kronos-server/cloudflare/.env
/home/mloco/kronos-server/traefik/.env
RecomendaciÃ³n: Asegurar que los archivos .env estÃ©n en .gitignore y tengan permisos restrictivos (600)
----------------------------------------
[1;33mğŸŸ¡ MEDIA[0m
TÃ­tulo: Credenciales en archivos de configuraciÃ³n
DescripciÃ³n: Se encontraron posibles credenciales en archivos de configuraciÃ³n
Afectado: /home/mloco/kronos-server/flexget/docker-compose.yml
/home/mloco/kronos-server/security-audit.sh
/home/mloco/kronos-server/pihole/docker-compose.yml
/home/mloco/kronos-server/postie/setup-gmail-relay.sh
/home/mloco/kronos-server/postie/docker-compose.yml
/home/mloco/kronos-server/AlugueV3/update-config.sh
/home/mloco/kronos-server/AlugueV3/docker-compose.template.yml
/home/mloco/kronos-server/AlugueV3/install.sh
/home/mloco/kronos-server/AlugueV3/database/init-scripts/00_create_app_user.sh
/home/mloco/kronos-server/immich-app/docker-compose.yml
/home/mloco/kronos-server/cloudflare/docker-compose.yml
/home/mloco/kronos-server/scripts/backup_immich.sh
RecomendaciÃ³n: Usar variables de entorno o Docker secrets para manejar credenciales sensibles
----------------------------------------
2025-10-10 09:33:44 - [0;34mğŸ” Verificando configuraciÃ³n de Traefik...[0m
[1;33mğŸŸ¡ MEDIA[0m
TÃ­tulo: Routers HTTP sin encriptaciÃ³n
DescripciÃ³n: Se detectaron routers HTTP sin configuraciÃ³n TLS
Afectado: Traefik configuration
RecomendaciÃ³n: Configurar TLS para todos los routers o usar redirects HTTP->HTTPS
----------------------------------------
2025-10-10 09:33:44 - [0;34mğŸ” Verificando versiones de imÃ¡genes Docker...[0m
[1;33mğŸŸ¡ MEDIA[0m
TÃ­tulo: ImÃ¡genes usando tag 'latest'
DescripciÃ³n: Se encontraron 9 imÃ¡genes usando el tag 'latest', lo que puede causar actualizaciones inesperadas
Afectado: aluguev3-backend:latest
portainer/portainer-ce:latest
adminer:latest
alpine:latest
lscr.io/linuxserver/flexget:latest
traefik:latest
lscr.io/linuxserver/plex:latest
pihole/pihole:latest
oznu/cloudflare-ddns:latest
RecomendaciÃ³n: Especificar versiones fijas en docker-compose.yml para mayor predictibilidad
----------------------------------------
[0;34mğŸ”µ BAJA[0m
TÃ­tulo: ImÃ¡genes antiguas detectadas
DescripciÃ³n: Se encontraron imÃ¡genes creadas hace semanas/meses, pueden tener vulnerabilidades conocidas
Afectado: 16 imÃ¡genes antiguas encontradas
RecomendaciÃ³n: Actualizar imÃ¡genes regularmente usando el script update-all.sh
----------------------------------------
2025-10-10 09:33:44 - [0;34mğŸ” Verificando configuraciÃ³n de Docker...[0m
[1;33mğŸŸ¡ MEDIA[0m
TÃ­tulo: User namespaces no habilitados
DescripciÃ³n: Docker no estÃ¡ usando user namespaces, lo que puede afectar el aislamiento
Afectado: ConfiguraciÃ³n de Docker daemon
RecomendaciÃ³n: Considerar habilitar user namespaces en daemon.json
----------------------------------------
[0;34mğŸ”µ BAJA[0m
TÃ­tulo: Logging driver bÃ¡sico
DescripciÃ³n: Usando json-file logging que puede consumir mucho espacio en disco
Afectado: Docker logging configuration
RecomendaciÃ³n: Considerar configurar lÃ­mites de log o usar logrotate
----------------------------------------
2025-10-10 09:33:44 - [0;34mğŸ” Verificando servicios crÃ­ticos...[0m
2025-10-10 09:33:44 - [0;34mğŸ” Verificando configuraciÃ³n de backups...[0m
2025-10-10 09:33:44 - 
================================================================================
[0;35mğŸ“Š RESUMEN DE AUDITORÃA DE SEGURIDAD[0m
2025-10-10 09:33:44 - ================================================================================
[0;31mğŸ”´ Vulnerabilidades CRÃTICAS: 0[0m
2025-10-10 09:33:44 - [0;31mğŸŸ  Vulnerabilidades ALTAS: 2[0m
2025-10-10 09:33:44 - [1;33mğŸŸ¡ Vulnerabilidades MEDIAS: 5[0m
2025-10-10 09:33:44 - [0;34mğŸ”µ Vulnerabilidades BAJAS: 2[0m
2025-10-10 09:33:44 - [0;36mâ„¹ï¸  InformaciÃ³n: 0[0m
2025-10-10 09:33:44 - 
[0;31mâš ï¸  Se encontraron vulnerabilidades importantes que requieren atenciÃ³n inmediata.[0m
2025-10-10 09:33:44 - 
ğŸ“„ Reporte completo guardado en: /home/mloco/kronos-server/security-audit-20251010-093343.txt
2025-10-10 09:33:44 - ================================================================================

